# ğŸ¦ Project 2: Mini ATM Simulator (Python CLI App)

    This project teaches:
    
    Loops, conditionals
    
    Variables, input/output
    
    Arithmetic ops
    
    Functions
    
    Dictionaries
    
    Validation and formatting
print("ğŸ¦ Welcome to Python Bank ATM ğŸ¦")

# Predefined user account
account = {
    "name": "John Doe",
    "pin": "1234",
    "balance": 5000,
    "transactions": []
}

# ---------- Helper Functions ----------

def check_balance():
    print(f"\nğŸ’° Current Balance: â‚¹{account['balance']}")

def deposit():
    amount = input("Enter amount to deposit: â‚¹")
    if not amount.isdigit():
        print("âŒ Invalid input, please enter a number.")
        return
    amount = float(amount)
    if amount <= 0:
        print("âŒ Amount must be positive.")
        return
    account["balance"] += amount
    account["transactions"].append(("Deposit", amount))
    print(f"âœ… â‚¹{amount} deposited successfully.")
    check_balance()

def withdraw():
    amount = input("Enter amount to withdraw: â‚¹")
    if not amount.isdigit():
        print("âŒ Invalid input, please enter a number.")
        return
    amount = float(amount)
    if amount <= 0:
        print("âŒ Amount must be positive.")
        return
    if amount > account["balance"]:
        print("ğŸš« Insufficient funds!")
    else:
        account["balance"] -= amount
        account["transactions"].append(("Withdraw", amount))
        print(f"ğŸ’¸ â‚¹{amount} withdrawn successfully.")
        check_balance()

def change_pin():
    old_pin = input("Enter your current PIN: ")
    if old_pin != account["pin"]:
        print("âŒ Incorrect PIN.")
        return
    new_pin = input("Enter new PIN: ")
    confirm_pin = input("Confirm new PIN: ")
    if new_pin == confirm_pin:
        account["pin"] = new_pin
        print("âœ… PIN changed successfully!")
    else:
        print("âŒ PINs do not match.")

def show_transactions():
    print("\nğŸ“œ Transaction History:")
    if not account["transactions"]:
        print("No transactions yet.")
        return
    
    # Using map() and lambda
    formatted = list(map(lambda t: f"{t[0]} of â‚¹{t[1]}", account["transactions"]))
    for line in formatted:
        print("â€¢", line)

    # Using filter() to separate deposits & withdrawals
    deposits = list(filter(lambda t: t[0] == "Deposit", account["transactions"]))
    withdrawals = list(filter(lambda t: t[0] == "Withdraw", account["transactions"]))

    # Using list comprehension for totals
    total_deposit = sum([t[1] for t in deposits])
    total_withdraw = sum([t[1] for t in withdrawals])

    print(f"\nSummary ğŸ’¡")
    print(f"Total Deposited: â‚¹{total_deposit}")
    print(f"Total Withdrawn: â‚¹{total_withdraw}")

# ---------- Main Flow ----------
pin_try = input("Please enter your PIN: ")
if pin_try != account["pin"]:
    print("âŒ Wrong PIN. Access Denied.")
else:
    while True:
        print("\nğŸ§ ATM MENU")
        print("1ï¸âƒ£ Check Balance\n2ï¸âƒ£ Deposit\n3ï¸âƒ£ Withdraw\n4ï¸âƒ£ Change PIN\n5ï¸âƒ£ Transactions\n6ï¸âƒ£ Exit")
        choice = input("Enter your choice: ")

        if choice == "1":
            check_balance()
        elif choice == "2":
            deposit()
        elif choice == "3":
            withdraw()
        elif choice == "4":
            change_pin()
        elif choice == "5":
            show_transactions()
        elif choice == "6":
            print("ğŸ‘‹ Thank you for banking with Python Bank!")
            break
        else:
            print("âŒ Invalid option. Try again.")
